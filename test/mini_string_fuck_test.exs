defmodule MiniStringFuckTest do
  use ExUnit.Case

  test "#execute: hello world" do
    hello_world_command = "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++.+++++++++++++++++++++" <>
                          "++++++++.+++++++..+++.+++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++.+++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++.+++++++++++++" <>
                          "++++++++++++++++++++++++++++++++++++++++++.++++" <>
                          "++++++++++++++++++++.+++.++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "++++++++++++++++++++++++++++++++++++++++.++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++.+++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++++++++++++++++++++++++++++++++++++++++" <>
                          "+++++++++."

    assert MiniStringFuck.execute(hello_world_command) == "Hello, World!"
  end

  test "#execute: english alphabet" do
    alphabet_command = String.duplicate("+", 65) <>
                       String.duplicate(".+", 25) <> "."
    alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"

    assert MiniStringFuck.execute(alphabet_command) == alphabet
  end

  test "#execute: Codewars" do
    codewars_command = String.duplicate("+", 67) <> "." <>
                       String.duplicate("+", 44) <> "." <>
                       String.duplicate("+", 245) <> ".+." <>
                       String.duplicate("+", 18) <> "." <>
                       String.duplicate("+", 234) <> "." <>
                       String.duplicate("+", 17) <> ".+."

    assert MiniStringFuck.execute(codewars_command) == "Codewars"
  end

  test "#execute: discards non [+.] characters" do
    codewars_command = String.duplicate("+", 67) <> "." <> "hey" <>
                       String.duplicate("+", 44) <> "." <> "%&?@" <>
                       String.duplicate("+", 245) <> ".+." <> "ohai" <>
                       String.duplicate("+", 18) <> "." <> "6789" <>
                       String.duplicate("+", 234) <> "." <> "}-*)" <>
                       String.duplicate("+", 17) <> "#(={" <> ".+."

    assert MiniStringFuck.execute(codewars_command) == "Codewars"
  end
end
